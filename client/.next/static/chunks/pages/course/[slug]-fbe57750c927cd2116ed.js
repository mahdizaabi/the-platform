(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[982],{9166:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(6156),s=n(484),o=n(2122),a=n(7294),c=n(444),l=n(4184),i=n.n(l),u=n(6032),d=n(6159),m=n(8481);function f(e){var t,n=e.prefixCls,r=e.value,s=e.current,o=e.offset,c=void 0===o?0:o;return c&&(t={position:"absolute",top:"".concat(c,"00%"),left:0}),a.createElement("span",{style:t,className:i()("".concat(n,"-only-unit"),{current:s})},r)}function v(e,t,n){for(var r=e,s=0;(r+10)%10!==t;)r+=n,s+=n;return s}function p(e){var t,n,r=e.prefixCls,s=e.count,c=e.value,l=Number(c),i=Math.abs(s),u=a.useState(l),d=(0,m.Z)(u,2),p=d[0],h=d[1],x=a.useState(i),b=(0,m.Z)(x,2),g=b[0],y=b[1],N=function(){h(l),y(i)};if(a.useEffect((function(){var e=setTimeout((function(){N()}),1e3);return function(){clearTimeout(e)}}),[l]),p===l||Number.isNaN(l)||Number.isNaN(p))t=[a.createElement(f,(0,o.Z)({},e,{key:l,current:!0}))],n={transition:"none"};else{t=[];for(var w=l+10,j=[],Z=l;Z<=w;Z+=1)j.push(Z);var E=j.findIndex((function(e){return e%10===p}));t=j.map((function(t,n){var r=t%10;return a.createElement(f,(0,o.Z)({},e,{key:t,value:r,offset:n-E,current:n===E}))})),n={transform:"translateY(".concat(-v(p,l,g<i?1:-1),"00%)")}}return a.createElement("span",{className:"".concat(r,"-only"),style:n,onTransitionEnd:N},t)}var h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},x=function(e){var t=e.prefixCls,n=e.count,r=e.className,s=e.motionClassName,c=e.style,l=e.title,m=e.show,f=e.component,v=void 0===f?"sup":f,x=e.children,b=h(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),g=(0,a.useContext(u.E_).getPrefixCls)("scroll-number",t),y=(0,o.Z)((0,o.Z)({},b),{"data-show":m,style:c,className:i()(g,r,s),title:l}),N=n;if(n&&Number(n)%1===0){var w=String(n).split("");N=w.map((function(e,t){return a.createElement(p,{prefixCls:g,count:Number(n),value:e,key:w.length-t})}))}return c&&c.borderColor&&(y.style=(0,o.Z)((0,o.Z)({},c),{boxShadow:"0 0 0 1px ".concat(c.borderColor," inset")})),x?(0,d.Tm)(x,(function(e){return{className:i()("".concat(g,"-custom-component"),null===e||void 0===e?void 0:e.className,s)}})):a.createElement(v,y,N)},b=n(8787);function g(e){return-1!==b.Y.indexOf(e)}var y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},N=function(e){var t,n,l=e.prefixCls,m=e.scrollNumberPrefixCls,f=e.children,v=e.status,p=e.text,h=e.color,b=e.count,N=void 0===b?null:b,w=e.overflowCount,j=void 0===w?99:w,Z=e.dot,E=void 0!==Z&&Z,C=e.size,_=void 0===C?"default":C,O=e.title,P=e.offset,S=e.style,k=e.className,L=e.showZero,z=void 0!==L&&L,T=y(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),V=a.useContext(u.E_),I=V.getPrefixCls,M=V.direction,R=I("badge",l),F=N>j?"".concat(j,"+"):N,U=null!==v&&void 0!==v||null!==h&&void 0!==h,q="0"===F||0===F,A=E&&!q,D=A?"":F,X=(0,a.useMemo)((function(){return(null===D||void 0===D||""===D||q&&!z)&&!A}),[D,q,z,A]),Y=(0,a.useRef)(N);X||(Y.current=N);var B=Y.current,W=(0,a.useRef)(D);X||(W.current=D);var G=W.current,H=(0,a.useRef)(A);X||(H.current=A);var J=(0,a.useMemo)((function(){if(!P)return(0,o.Z)({},S);var e={marginTop:P[1]};return"rtl"===M?e.left=parseInt(P[0],10):e.right=-parseInt(P[0],10),(0,o.Z)((0,o.Z)({},e),S)}),[M,P,S]),K=null!==O&&void 0!==O?O:"string"===typeof B||"number"===typeof B?B:void 0,Q=X||!p?null:a.createElement("span",{className:"".concat(R,"-status-text")},p),$=B&&"object"===(0,s.Z)(B)?(0,d.Tm)(B,(function(e){return{style:(0,o.Z)((0,o.Z)({},J),e.style)}})):void 0,ee=i()((t={},(0,r.Z)(t,"".concat(R,"-status-dot"),U),(0,r.Z)(t,"".concat(R,"-status-").concat(v),!!v),(0,r.Z)(t,"".concat(R,"-status-").concat(h),g(h)),t)),te={};h&&!g(h)&&(te.background=h);var ne=i()(R,(n={},(0,r.Z)(n,"".concat(R,"-status"),U),(0,r.Z)(n,"".concat(R,"-not-a-wrapper"),!f),(0,r.Z)(n,"".concat(R,"-rtl"),"rtl"===M),n),k);if(!f&&U){var re=J.color;return a.createElement("span",(0,o.Z)({},T,{className:ne,style:J}),a.createElement("span",{className:ee,style:te}),a.createElement("span",{style:{color:re},className:"".concat(R,"-status-text")},p))}return a.createElement("span",(0,o.Z)({},T,{className:ne}),f,a.createElement(c.Z,{visible:!X,motionName:"".concat(R,"-zoom"),motionAppear:!1},(function(e){var t,n=e.className,s=I("scroll-number",m),c=H.current,l=i()((t={},(0,r.Z)(t,"".concat(R,"-dot"),c),(0,r.Z)(t,"".concat(R,"-count"),!c),(0,r.Z)(t,"".concat(R,"-count-sm"),"small"===_),(0,r.Z)(t,"".concat(R,"-multiple-words"),!c&&G&&G.toString().length>1),(0,r.Z)(t,"".concat(R,"-status-").concat(v),!!v),(0,r.Z)(t,"".concat(R,"-status-").concat(h),g(h)),t)),u=(0,o.Z)({},J);return h&&!g(h)&&((u=u||{}).background=h),a.createElement(x,{prefixCls:s,show:!X,motionClassName:n,className:l,count:G,title:K,style:u,key:"scrollNumber"},$)})),Q)};N.Ribbon=function(e){var t,n=e.className,s=e.prefixCls,c=e.style,l=e.color,d=e.children,m=e.text,f=e.placement,v=void 0===f?"end":f,p=a.useContext(u.E_),h=p.getPrefixCls,x=p.direction,b=h("ribbon",s),y=g(l),N=i()(b,"".concat(b,"-placement-").concat(v),(t={},(0,r.Z)(t,"".concat(b,"-rtl"),"rtl"===x),(0,r.Z)(t,"".concat(b,"-color-").concat(l),y),t),n),w={},j={};return l&&!y&&(w.background=l,j.color=l),a.createElement("div",{className:"".concat(b,"-wrapper")},d,a.createElement("div",{className:N,style:(0,o.Z)((0,o.Z)({},w),c)},a.createElement("span",{className:"".concat(b,"-text")},m),a.createElement("div",{className:"".concat(b,"-corner"),style:j})))};var w=N},2472:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return O},default:function(){return P}});var r=n(5893),s=n(7757),o=n.n(s),a=n(2137),c=n(9669),l=n.n(c),i=n(1163),u=n(2004),d=n(7294),m=n(9166),f=n(1577),v=n(2130),p=n(7085),h={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"}},{tag:"path",attrs:{d:"M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"}}]},name:"safety",theme:"outlined"},x=n(76),b=function(e,t){return d.createElement(x.Z,Object.assign({},e,{ref:t,icon:h}))};b.displayName="SafetyOutlined";var g=d.forwardRef(b),y=function(e){var t,n,s=e.course,o=e.setVisible,a=e.setPreview,c=e.visible,l=(e.preview,e.user),i=(e.setLoading,e.loading),h=(e.handlePaidEnrollement,e.handleFreeEnrollement),x=e.enrolled,b=s.name,y=s.description,N=s.instructor,w=(s.lessons,s.updatedAt),j=(s.image,s.price),Z=s.category,E=s.paid,C=(0,d.useState)(!1),_=(C[0],C[1],(0,d.useState)());_[0],_[1];return(0,r.jsx)("div",{className:"container-fluid",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"jumbotron p-4 pt-5 bg-primary square",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-md-7",children:[(0,r.jsx)("h1",{className:"text-light font-weight-bold",children:b}),(0,r.jsxs)("p",{className:"lead",children:[y&&y.substring(0,160),"..."]}),(0,r.jsx)(m.Z,{count:Z,style:{backgroundColor:"#03a9f4"},className:"pb-4 mr-2"}),(0,r.jsxs)("p",{children:["created by ",N]}),(0,r.jsxs)("p",{children:["last updated ",new Date(w).toLocaleDateString()]}),(0,r.jsx)("h4",{className:"text-light",children:E?(0,v.d)({amount:j,currency:"usd"}):"free"})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[null!==s&&void 0!==s&&null!==(t=s.lessons[0])&&void 0!==t&&null!==(n=t.video)&&void 0!==n&&n.videoUrl?(0,r.jsx)("div",{onClick:function(){a(s.lessons[0].video.videoUrl),o(!c)},className:"react_video_player",children:(0,r.jsx)(u.Z,{style:{maxWidth:"100%"},url:s.lessons[0].video,height:"225px",light:null===s||void 0===s?void 0:s.image_preview,playing:!1})}):(0,r.jsx)("div",{className:"tutorial_cover col-md-3 p-4",children:(0,r.jsx)("img",{src:null===s||void 0===s?void 0:s.image_preview,alt:b,className:"img",width:"300px",height:"150px"})}),(0,r.jsx)(f.Z,{}),i?(0,r.jsx)("div",{className:"d-flex justify-content-center",children:(0,r.jsx)(p.Z,{className:"h1 text-danger"})}):(0,r.jsxs)(f.Z,{className:"mb-3",type:"danger",block:!0,shape:"round",icon:(0,r.jsx)(g,{}),size:"large",disabled:i,onClick:h,children:[l&&!x?"enroll now":l&&x?"go to course":"login to enroll"," "]}),(0,r.jsx)("p",{children:"show ernroll button"})]})]})})})})},N=n(7888),w=function(e){e.course;var t=e.preview,n=e.visible,s=e.setVisible,o=e.setPreview,a=(0,d.useState)(!1),c=a[0],l=a[1];return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(N.Z,{title:"course_preview",visible:n,onCancel:function(){l(!1),o(null),s(!1)},width:"720px",footer:null,children:(0,r.jsx)(u.Z,{url:t,playing:c,controls:!0,width:"100%",height:"100%"})})})},j=n(7385),Z=n(8453),E=n(7215),C=function(e){var t=e.lessons,n=e.visible,s=(e.preview,e.setVisible),o=e.setPreview;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container pt-2",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"col lesson-list",children:[t&&(0,r.jsxs)("h4",{children:[t.length," lessons"]}),(0,r.jsx)("hr",{}),(0,r.jsx)(j.ZP,{itemLayout:"horizental",dataSource:t,renderItem:function(e,t){return(0,r.jsxs)(E.default,{className:"offset-md-2 border-bottom pl-2 pr-2 col-8",children:[(0,r.jsx)(E.default.Meta,{avatar:(0,r.jsxs)(Z.C,{children:[" ",t+1," "]}),title:e.title}),(null===e||void 0===e?void 0:e.free_preview)&&(0,r.jsx)("span",{className:"text-primary pointer",onClick:function(){o(e.video.videoUrl),s(!n)},children:"preview"})]})}})]})})})})},_=n(2807),O=!0,P=function(e){var t=e.course,n=(0,d.useState)(!1),s=n[0],c=n[1],u=(0,d.useState)(""),m=u[0],f=u[1],v=(0,d.useState)(!1),p=v[0],h=v[1],x=(0,d.useState)(!1),b=x.loading,g=x.setLoading,N=(0,i.useRouter)(),j=(N.query.slug,(0,d.useContext)(_._)),Z=j.state,E=(j.dispatch,function(){var e=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());(0,d.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/api/course/check-enrollement/".concat(t._id));case 2:n=e.sent,console.log(n),h(n.data.ok);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Z.user&&e()}),[Z.user,t]);var O=function(){var e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z.user&&p&&N.push("/user/course/".concat(t.slug)),e.prev=1,e.next=4,l().get("/api/course/enroll-freecourse/".concat(t._id));case 4:n=e.sent,h(!0),console.log(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{course:t,setPreview:f,preview:m,setVisible:c,visible:s,user:Z.user,setLoading:g,loading:b,handlePaidEnrollement:E,handleFreeEnrollement:O,enrolled:p}),(0,r.jsx)(w,{course:t,setVisible:c,preview:m,visible:s,setPreview:f}),t.lessons&&(0,r.jsx)(C,{lessons:t.lessons,setPreview:f,visible:s,setVisible:c})]})}},2130:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var r=function(e){return(100*e.amount/100).toLocaleString(e.currency,{style:"currency",currency:e.currency})}},3632:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/[slug]",function(){return n(2472)}])}},function(e){e.O(0,[577,576,860,67,4,774,888,179],(function(){return t=3632,e(e.s=t);var t}));var t=e.O();_N_E=t}]);